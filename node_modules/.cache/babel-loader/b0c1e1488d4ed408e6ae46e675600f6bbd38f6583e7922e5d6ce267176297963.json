{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as d3 from 'd3';\nexport default {\n  data: () => ({\n    chosenFile: null,\n    data: null,\n    columnData: [],\n    array2D: null,\n    allGroup: [],\n    selectPlot: null,\n    x: null,\n    svg: null,\n    y: null,\n    height: null,\n    xAxis: null,\n    yAxis: null\n  }),\n  methods: {\n    importFile() {\n      if (this.chosenFile === null) {\n        this.data = \"No File Chosen\";\n      } else {\n        var reader = new FileReader();\n        var file = this.chosenFile[0];\n        // Use the javascript reader object to load the contents\n        // of the file in the v-model prop\n        reader.readAsText(file);\n        reader.onload = () => {\n          this.data = reader.result;\n          const rows = this.data.split('\\n');\n          this.array2D = Array.from({\n            length: rows[0].split(',').length\n          }, () => []);\n          for (let i = 0; i < rows.length; i++) {\n            const columns = rows[i].split(',');\n            for (let j = 0; j < columns.length; j++) {\n              this.array2D[j].push(columns[j]);\n            }\n          }\n          for (let i = 0; i < this.array2D.length; i++) {\n            this.allGroup.push(this.array2D[i][0]);\n            this.array2D[i] = this.array2D[i].slice(1).map(str => parseInt(str));\n          }\n          console.log(this.allGroup);\n          console.log(this.array2D);\n          console.log(this.array2D);\n        };\n      }\n    },\n    plotChart() {\n      // set the dimensions and margins of the graph\n      const margin = {\n          top: 10,\n          right: 30,\n          bottom: 30,\n          left: 50\n        },\n        width = 460 - margin.left - margin.right,\n        height = 400 - margin.top - margin.bottom;\n\n      // append the svg object to the body of the page\n      this.svg = d3.select(this.$refs.chart).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      // Assume that `data` is a 2D array where the first row contains X-axis values and the second row contains Y-axis values\n      // const data = [      [1, 2, 3, 4, 5], // X-axis values\n      //   [1, 3, 2, 4, 5]  // Y-axis values\n      // ];\n\n      // var myColor = d3.scaleOrdinal()\n      //   .domain(this.allGroup)\n      //   .range(d3.schemeSet2);\n\n      // Define the scales for the X and Y axes\n      // Initialise a X axis:\n      this.x = d3.scaleLinear().range([0, width]);\n      this.xAxis = d3.axisBottom().scale(this.x);\n      this.svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").attr(\"class\", \"myXaxis\");\n\n      // Initialize an Y axis\n      this.y = d3.scaleLinear().range([height, 0]);\n      this.yAxis = d3.axisLeft().scale(this.y);\n      this.svg.append(\"g\").attr(\"class\", \"myYaxis\");\n      update(this.array2D[0], this.array2D[1]);\n\n      // // Define the line function\n      // const line = d3.line()\n      //   .x((d, i) => xScale(this.array2D[0][i]))\n      //   .y((d, i) => yScale(this.array2D[1][i]));\n\n      // Create the line path\n      // svg.append('path')\n      //   .datum(this.array2D[0])\n      //   .attr('d', line)\n      //   .attr('fill', 'none')\n      //   .attr('stroke', 'steelblue')\n      //   .attr('stroke-width', 2);\n\n      // // Create the X and Y axes\n      // // const xAxis = d3.axisBottom(xScale);\n      // // const yAxis = d3.axisLeft(yScale);\n\n      // svg.append('g')\n      //   .attr('transform', `translate(0, ${height})`)\n      //   .call(xAxis);\n\n      // svg.append('g')\n      //   .call(yAxis);\n    },\n\n    // Create a function that takes a dataset as input and update the plot:\n    update(data1, data2) {\n      console.log('running update');\n      // Create the X axis:\n      this.x.domain([0, d3.max(data1)]);\n      this.svg.selectAll(\".myXaxis\").transition().duration(3000).call(this.xAxis);\n\n      // create the Y axis\n      this.y.domain([0, d3.max(data2)]);\n      this.svg.selectAll(\".myYaxis\").transition().duration(3000).call(this.yAxis);\n      const line = d3.line().x((d, i) => data1[i]).y((d, i) => data2[i]);\n\n      // Create the line path\n      this.svg.append('path').datum(data1).attr('d', line).attr('fill', 'none').attr('stroke', 'steelblue').attr('stroke-width', 2);\n\n      // Create the X and Y axes\n      // const xAxis = d3.axisBottom(xScale);\n      // const yAxis = d3.axisLeft(yScale);\n\n      this.svg.append('g').attr('transform', `translate(0, ${this.height})`).call(xAxis);\n      this.svg.append('g').call(yAxis);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["d3","data","chosenFile","columnData","array2D","allGroup","selectPlot","x","svg","y","height","xAxis","yAxis","methods","importFile","reader","FileReader","file","readAsText","onload","result","rows","split","Array","from","length","i","columns","j","push","slice","map","str","parseInt","console","log","plotChart","margin","top","right","bottom","left","width","select","$refs","chart","append","attr","scaleLinear","range","axisBottom","scale","axisLeft","update","data1","data2","domain","max","selectAll","transition","duration","call","line","d","datum"],"sourceRoot":"","sources":["/Users/stlp/Desktop/Spring 2023/BIOEN 405/User Interface/MoHSES-Scenario-User-Interface/src/views/PlottingView.vue"],"sourcesContent":["<template>\n    <v-toolbar style=\"color: white\" color=\"#4b0082\">\n      <v-toolbar-title>BioGears Plotting Tool</v-toolbar-title>\n    </v-toolbar>\n    <v-main class=\"bg-grey-lighten-3\">\n      <v-container>\n        <v-card class=\"mt-n12\">\n          <v-card-text>\n            <p style=\"font-size: 20px\">Please upload your .CSV:</p>\n            <br>\n            <v-file-input v-model=\"chosenFile\"></v-file-input>\n            <v-spacer></v-spacer>\n\n            <v-btn @click=\"importFile\">Import File</v-btn>\n            \n\n    \n            <br>\n            <br>\n \n            <v-row v-if=\"array2D\">\n            \n                <v-col cols=\"2\">\n                    <v-btn @click=\"plotChart\">Plot Chart</v-btn>\n                </v-col>\n                <v-col cols=\"10\">\n                    <v-select @change=\"update(array2D[0], array2D[allGroup.indexOf(selectPlot)])\" v-model=\"selectPlot\" id=\"selectButton\" :items=\"allGroup.slice(1)\"></v-select>\n                </v-col>\n                \n            </v-row>\n        </v-card-text>\n        \n        <div ref=\"chart\"></div>\n        </v-card>\n      </v-container>\n    </v-main>\n  </template>\n  \n<script>\nimport * as d3 from 'd3';\n\nexport default {\n      data: () => ({\n        chosenFile: null,\n        data: null,\n        columnData:[],\n        array2D: null,\n        allGroup: [],\n        selectPlot: null,\n        x: null,\n        svg: null,\n        y: null,\n        height: null,\n        xAxis: null,\n        yAxis: null\n      }),\n      methods: {\n        importFile() {\n      \n      if (this.chosenFile === null) {\n        this.data = \"No File Chosen\"\n      } else {\n        var reader = new FileReader();\n        var file = this.chosenFile[0]\n        // Use the javascript reader object to load the contents\n        // of the file in the v-model prop\n        reader.readAsText(file);\n        reader.onload = () => {\n        this.data = reader.result;\n        const rows = this.data.split('\\n')\n        this.array2D = Array.from({ length: rows[0].split(',').length }, () => []);\n        for (let i=0; i<rows.length;i++) {\n            const columns = rows[i].split(',');\n            for (let j =0; j<columns.length;j++) {\n                this.array2D[j].push(columns[j]);\n            }\n            \n        }\n        for (let i=0; i<this.array2D.length;i++) {\n        this.allGroup.push(this.array2D[i][0])\n        this.array2D[i] = this.array2D[i].slice(1).map(str => parseInt(str));\n    }\n    console.log(this.allGroup)\n    console.log(this.array2D)\n        console.log(this.array2D)\n      }\n    }\n},\n\nplotChart () {\n    // set the dimensions and margins of the graph\nconst margin = {top: 10, right: 30, bottom: 30, left: 50},\n    width = 460 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\n// append the svg object to the body of the page\nthis.svg = d3.select(this.$refs.chart)\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    // Assume that `data` is a 2D array where the first row contains X-axis values and the second row contains Y-axis values\n    // const data = [      [1, 2, 3, 4, 5], // X-axis values\n    //   [1, 3, 2, 4, 5]  // Y-axis values\n    // ];\n\n    // var myColor = d3.scaleOrdinal()\n    //   .domain(this.allGroup)\n    //   .range(d3.schemeSet2);\n    \n        \n\n\n    // Define the scales for the X and Y axes\n// Initialise a X axis:\n this.x = d3.scaleLinear().range([0,width]);\nthis.xAxis = d3.axisBottom().scale(this.x);\nthis.svg.append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + height + \")\")\n  .attr(\"class\",\"myXaxis\")\n\n// Initialize an Y axis\nthis.y = d3.scaleLinear().range([height, 0]);\nthis.yAxis = d3.axisLeft().scale(this.y);\nthis.svg.append(\"g\")\n  .attr(\"class\",\"myYaxis\")\n\nupdate(this.array2D[0], this.array2D[1])\n\n\n    // // Define the line function\n    // const line = d3.line()\n    //   .x((d, i) => xScale(this.array2D[0][i]))\n    //   .y((d, i) => yScale(this.array2D[1][i]));\n\n    // Create the line path\n    // svg.append('path')\n    //   .datum(this.array2D[0])\n    //   .attr('d', line)\n    //   .attr('fill', 'none')\n    //   .attr('stroke', 'steelblue')\n    //   .attr('stroke-width', 2);\n\n    // // Create the X and Y axes\n    // // const xAxis = d3.axisBottom(xScale);\n    // // const yAxis = d3.axisLeft(yScale);\n\n    // svg.append('g')\n    //   .attr('transform', `translate(0, ${height})`)\n    //   .call(xAxis);\n\n    // svg.append('g')\n    //   .call(yAxis);\n  },\n\n  // Create a function that takes a dataset as input and update the plot:\nupdate(data1, data2) {\nconsole.log('running update')\n// Create the X axis:\nthis.x.domain([0, d3.max(data1) ]);\nthis.svg.selectAll(\".myXaxis\").transition()\n  .duration(3000)\n  .call(this.xAxis);\n\n// create the Y axis\nthis.y.domain([0, d3.max(data2) ]);\nthis.svg.selectAll(\".myYaxis\")\n  .transition()\n  .duration(3000)\n  .call(this.yAxis);\n\n\n  const line = d3.line()\n      .x((d, i) => (data1[i]))\n      .y((d, i) => (data2[i]));\n\n    // Create the line path\n    this.svg.append('path')\n      .datum(data1)\n      .attr('d', line)\n      .attr('fill', 'none')\n      .attr('stroke', 'steelblue')\n      .attr('stroke-width', 2);\n\n    // Create the X and Y axes\n    // const xAxis = d3.axisBottom(xScale);\n    // const yAxis = d3.axisLeft(yScale);\n\n    this.svg.append('g')\n      .attr('transform', `translate(0, ${this.height})`)\n      .call(xAxis);\n\n    this.svg.append('g')\n      .call(yAxis);\n\n\n\n}\n\n  }\n,\n\n\n\n}\n\n</script>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}